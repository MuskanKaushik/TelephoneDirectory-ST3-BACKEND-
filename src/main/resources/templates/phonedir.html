<html xmlns:th="http://thymeleaf.org">

<head th:replace="layout :: site-head">
    <title>Spring MVC Application - User Posts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <style>

    </style>
</head>

<header th:replace="layout :: logged-in"></header>

<body>

<div class="container ">
    <h1>Phone Directory</h1>
    <br>

    <div class="bg-dark text-light container" style="border-radius: 15px; padding: 20px; max-width: 700px;">
        <h3>Add New Details</h3>
        <br>
        <form class="form-inline" method="post" th:action="@{/posts/create}" th:object="${post}">
            <div class="m-2 row justify-content-between">

                <div class=" col-auto">
                    <label for="name" >Name:</label>
                </div>
                <div class=" col-8">
                    <input class="form-control" id="name" name="name" type="text"/>
                </div>

            </div>
            <br>
            <div class=" m-2 row justify-content-between">
                <div class="col-auto">
                    <label for="name" >Email:</label>
                </div>

                <div class="col-8">
                    <input class="form-control" id="email" name="email" type="text">
                </div>

            </div>
            <br>
            <div class=" m-2 row justify-content-between">
                <div class="col-auto">
                    <label for="name" >Phone: </label>
                </div>
                <div class="col-8 ">
                    <input class="form-control" id="phone" name="phone" type="tel">
                </div>

            </div>
            <br><br>
            <div class="justify-content-end row">
                <div class="col-auto">
                </div>
                <input type="submit" class="btn btn-success col-5 col-lg-3 " value="Submit"/>
                <div class="col-1 col-lg-4">
                </div>
            </div>

        </form>
    </div>

</div>
<br><br><br>
<div class="container ">
    <main id="posts" class="d-flex">
        <post th:each="p : ${posts}">
            <div class=" post-container p-4 bg-light border border-5 border-white">
                <div class="row">
                    <div class=" m-2 row justify-content-between">

                        <div class="col-auto">
                            <div for="name" ><h4>Name:</h4> </div>
                        </div>
                        <div class="col-8">
                            <h4 th:text="${p.name}">test</h4>
                        </div>
                    </div>
                    <div class=" m-2 row justify-content-between">
                        <div class="col-auto">
                            <div for="name" ><h4>Email:</h4> </div>
                        </div>
                        <div class="col-8">
                            <h4 th:text="${p.email}">test</h4>

                        </div>
                    </div>
                    <div class=" m-2 row justify-content-between">
                        <div class="col-auto">
                            <div for="name" ><h4>Phone:</h4> </div>
                        </div>
                        <div class="col-8">
                            <h4 th:text="${p.phone}">test</h4>
                        </div>
                    </div>
                </div>

                <div style="margin-left: 20px;">
                    <form th:action="@{/deletepost(postId=${p.id})}" th:method="delete">
                        <input type="submit" class="btn btn-danger" value="DELETE"/>
                    </form>
                </div>
            </div>

        </post>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

</body>

</html>